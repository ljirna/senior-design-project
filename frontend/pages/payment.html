<!-- frontend/pages/payment.html -->
<main class="page-container">
  <div class="payment-page">
    <div class="container">
      <h1 class="section-title">Complete Your Payment</h1>

      <div class="payment-container">
        <!-- Payment Methods -->
        <div class="payment-form-section">
          <h2 class="section-title">Checkout</h2>

          <!-- Fulfillment options -->
          <div class="option-group">
            <h3>Fulfillment</h3>
            <label class="option-row">
              <input
                type="radio"
                name="delivery-option"
                value="store_pickup"
                checked
              />
              Store pickup (no delivery fee)
            </label>
            <label class="option-row">
              <input type="radio" name="delivery-option" value="home" />
              Home delivery (delivery fee applies)
            </label>
          </div>

          <!-- Assembly options -->
          <div class="option-group">
            <h3>Assembly</h3>
            <label class="option-row">
              <input
                type="radio"
                name="assembly-option"
                value="package"
                checked
              />
              No assembly needed (packaged only)
            </label>
            <label class="option-row">
              <input
                type="radio"
                name="assembly-option"
                value="worker_assembly"
              />
              Worker assembly (assembly fee applies)
            </label>
          </div>

          <div class="payment-methods">
            <div
              class="payment-method selected"
              data-method="card"
              id="card-method"
            >
              <div class="payment-method-icon">
                <i class="far fa-credit-card"></i>
              </div>
              <div class="payment-method-info">
                <div class="payment-method-name">Credit or Debit Card</div>
                <div class="payment-method-desc">
                  Pay with Visa, MasterCard, or American Express
                </div>
              </div>
            </div>
          </div>

          <!-- Card Payment Form -->
          <div class="payment-form active" id="card-form">
            <div class="form-group">
              <label for="cardholder-name">Cardholder Name</label>
              <input
                type="text"
                id="cardholder-name"
                class="form-control"
                placeholder="Full name as it appears on card"
                required
              />
            </div>

            <div class="form-group">
              <label for="card-number-element">Card Number</label>
              <div id="card-number-element" class="stripe-element"></div>
              <div id="card-number-error" class="error-message"></div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="card-expiry-element">Expiration Date</label>
                <div id="card-expiry-element" class="stripe-element"></div>
                <div id="card-expiry-error" class="error-message"></div>
              </div>

              <div class="form-group">
                <label for="card-cvc-element">CVC</label>
                <div id="card-cvc-element" class="stripe-element"></div>
                <div id="card-cvc-error" class="error-message"></div>
              </div>
            </div>

            <div class="form-group checkbox-group">
              <label>
                <input type="checkbox" id="save-card" />
                Save card for future purchases
              </label>
            </div>
          </div>

          <!-- Payment Status -->
          <div id="payment-status" class="payment-status" style="display: none">
            <div class="status-indicator">
              <i class="fas fa-spinner fa-spin"></i>
              <p>Processing your payment securely...</p>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="payment-actions">
            <button type="button" class="btn btn-secondary" id="back-to-cart">
              <i class="fas fa-arrow-left"></i> Back to Cart
            </button>
            <button type="button" class="btn btn-primary" id="pay-now">
              <i class="fas fa-lock"></i> Pay Now
            </button>
          </div>
        </div>

        <!-- Order Summary -->
        <div class="order-summary-section">
          <h2 class="section-title">Order Summary</h2>

          <div class="order-items" id="order-items">
            <!-- Items will be populated by JavaScript -->
          </div>

          <div class="order-totals">
            <div class="total-row">
              <span>Subtotal:</span>
              <span id="subtotal">$0.00</span>
            </div>
            <div class="total-row">
              <span>Delivery Fee:</span>
              <span id="delivery-fee">$0.00</span>
            </div>
            <div class="total-row">
              <span>Assembly Fee:</span>
              <span id="assembly-fee">$0.00</span>
            </div>
            <div class="total-row total-amount">
              <span><strong>Total Amount:</strong></span>
              <span><strong id="order-total">$0.00</strong></span>
            </div>
          </div>

          <div class="delivery-info">
            <h3>Delivery Address</h3>
            <div id="delivery-address" class="address-info">
              <!-- Address populated by JavaScript -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Hidden total for calculations -->
<input type="hidden" id="total-amount" value="0" />
