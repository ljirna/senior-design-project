<main class="page-container">
  <div class="container">
    <h1>Your Shopping Cart</h1>

    <!-- Cart Items Grid -->
    <div class="products-grid">
      <!-- Product 1 -->
      <div class="product-card">
        <button class="favorite-btn" aria-label="Remove from favorites">
          <i class="fas fa-heart"></i>
        </button>

        <img
          src="https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&w=600&q=80"
          alt="Modern Leather Sofa"
          class="product-image"
        />

        <div class="product-content">
          <h3 class="product-title">Modern Leather Sofa</h3>
          <p class="product-category">Sofas</p>
          <div class="product-price">$1,299.99</div>

          <div class="cart-quantity-selector">
            <label for="quantity1">Quantity:</label>
            <div class="quantity-controls">
              <button class="qty-minus" data-item="1">-</button>
              <input
                type="number"
                id="quantity1"
                value="1"
                min="1"
                max="10"
                class="cart-qty-input"
              />
              <button class="qty-plus" data-item="1">+</button>
            </div>
          </div>

          <div class="product-actions">
            <button class="btn-remove-item" data-item="1">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>

      <!-- Product 2 -->
      <div class="product-card">
        <button class="favorite-btn" aria-label="Remove from favorites">
          <i class="fas fa-heart"></i>
        </button>

        <img
          src="https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?auto=format&fit=crop&w=600&q=80"
          alt="Coffee Table"
          class="product-image"
        />

        <div class="product-content">
          <h3 class="product-title">Glass Coffee Table</h3>
          <p class="product-category">Tables</p>
          <div class="product-price">$299.99</div>

          <div class="cart-quantity-selector">
            <label for="quantity2">Quantity:</label>
            <div class="quantity-controls">
              <button class="qty-minus" data-item="2">-</button>
              <input
                type="number"
                id="quantity2"
                value="1"
                min="1"
                max="10"
                class="cart-qty-input"
              />
              <button class="qty-plus" data-item="2">+</button>
            </div>
          </div>

          <div class="product-actions">
            <button class="btn-remove-item" data-item="2">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>

      <!-- Product 3 -->
      <div class="product-card">
        <button class="favorite-btn" aria-label="Remove from favorites">
          <i class="far fa-heart"></i>
        </button>

        <img
          src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?auto=format&fit=crop&w=600&q=80"
          alt="Leather Lounge Chair"
          class="product-image"
        />

        <div class="product-content">
          <h3 class="product-title">Leather Lounge Chair</h3>
          <p class="product-category">Chairs</p>
          <div class="product-price">$499.99</div>

          <div class="cart-quantity-selector">
            <label for="quantity3">Quantity:</label>
            <div class="quantity-controls">
              <button class="qty-minus" data-item="3">-</button>
              <input
                type="number"
                id="quantity3"
                value="2"
                min="1"
                max="10"
                class="cart-qty-input"
              />
              <button class="qty-plus" data-item="3">+</button>
            </div>
          </div>

          <div class="product-actions">
            <button class="btn-remove-item" data-item="3">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>

      <!-- Product 4 -->
      <div class="product-card">
        <button class="favorite-btn" aria-label="Remove from favorites">
          <i class="far fa-heart"></i>
        </button>

        <img
          src="https://images.unsplash.com/photo-1567016432779-094069958ea5?auto=format&fit=crop&w=600&q=80"
          alt="Side Table"
          class="product-image"
        />

        <div class="product-content">
          <h3 class="product-title">Wooden Side Table</h3>
          <p class="product-category">Tables</p>
          <div class="product-price">$199.99</div>

          <div class="cart-quantity-selector">
            <label for="quantity4">Quantity:</label>
            <div class="quantity-controls">
              <button class="qty-minus" data-item="4">-</button>
              <input
                type="number"
                id="quantity4"
                value="1"
                min="1"
                max="10"
                class="cart-qty-input"
              />
              <button class="qty-plus" data-item="4">+</button>
            </div>
          </div>

          <div class="product-actions">
            <button class="btn-remove-item" data-item="4">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Cart Summary -->
    <div class="cart-summary-section">
      <div class="cart-summary-card">
        <h2>Order Summary</h2>

        <div class="summary-details">
          <div class="summary-row">
            <span>Subtotal (4 items)</span>
            <span id="subtotal">$2,299.96</span>
          </div>
          <div class="summary-row">
            <span>Shipping</span>
            <span id="shipping">$49.99</span>
          </div>
          <div class="summary-row">
            <span>Tax</span>
            <span id="tax">$164.99</span>
          </div>

          <div class="summary-divider"></div>

          <div class="summary-row total-row">
            <span><strong>Total</strong></span>
            <span id="total-amount"><strong>$2,514.94</strong></span>
          </div>
        </div>

        <div class="checkout-actions">
          <a
            href="#payment"
            class="btn-checkout btn-primary"
            style="
              text-decoration: none;
              display: flex;
              align-items: center;
              justify-content: center;
            "
          >
            <i class="fas fa-lock"></i> Proceed to Checkout
          </a>

          <button class="btn-continue-shopping btn-outline">
            Continue Shopping
          </button>
        </div>

        <div class="payment-methods">
          <p><i class="fas fa-shield-alt"></i> Secure payment</p>
          <div class="payment-icons">
            <i class="fab fa-cc-visa"></i>
            <i class="fab fa-cc-mastercard"></i>
            <i class="fab fa-cc-amex"></i>
            <i class="fab fa-cc-paypal"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    console.log("Cart page loaded");

    // Quantity buttons
    document.querySelectorAll(".qty-minus").forEach((btn) => {
      btn.onclick = () => {
        const id = btn.dataset.item;
        const input = document.getElementById("quantity" + id);
        if (input.value > 1) input.value--;
      };
    });

    document.querySelectorAll(".qty-plus").forEach((btn) => {
      btn.onclick = () => {
        const id = btn.dataset.item;
        const input = document.getElementById("quantity" + id);
        if (input.value < 10) input.value++;
      };
    });

    // Remove item
    document.querySelectorAll(".btn-remove-item").forEach((btn) => {
      btn.onclick = () => {
        const card = btn.closest(".product-card");
        if (confirm("Remove this item?")) card.remove();
      };
    });

    // Continue shopping - Update to use SPA navigation
    const continueBtn = document.querySelector(".btn-continue-shopping");
    if (continueBtn) {
      continueBtn.onclick = () => {
        window.location.hash = "products";
      };
    }

    // Initialize favorite buttons
    document.querySelectorAll(".favorite-btn").forEach((btn) => {
      btn.addEventListener("click", function () {
        const icon = this.querySelector("i");
        if (icon.classList.contains("far")) {
          icon.classList.remove("far");
          icon.classList.add("fas");
          if (typeof showToast === "function") {
            showToast("Added to favorites!", "success");
          }
        } else {
          icon.classList.remove("fas");
          icon.classList.add("far");
          if (typeof showToast === "function") {
            showToast("Removed from favorites!", "info");
          }
        }
      });
    });
  });
</script>
